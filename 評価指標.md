# 評価

|$\textbf{モデル名}$|$\textbf{備考}$|$\textbf{言語モデル}$|$\textbf{Spearman's}\space\rho$|$\textbf{Kendall's}\space\phi$|
|:--|:--:|:--:|--:|--:|
||||||
|CLIP_Score|$-$|$-$|$-0.1881$|$-0.1306$|
||||||
|[TimeSformer-GPT2 Video Captioning](https://huggingface.co/Neleac/timesformer-gpt2-video-captioning)|$-$|[e5](https://huggingface.co/intfloat/multilingual-e5-base)|$0.1356$|$0.1088$|
|^|^|[bert](https://huggingface.co/sentence-transformers/all-mpnet-base-v2)|$0.2176$|$0.1611$|
|^|^|Word2Vec|$-0.1256$|$-0.0958$|
||||||
|[vit-gpt2-image-captioning](https://huggingface.co/nlpconnect/vit-gpt2-image-captioning)|for video|e5|$-0.2717$|$-0.2046$|
|^|^|bert|$-0.2556$|$-0.1828$|
|^|^|Word2Vec|$-0.2883$|$-0.1959$|
|^|for image(mean)|e5|$ -0.2557$|$-0.1915$|
|^|^|bert|$-0.2981$|$-0.1959$|
|^|^|Word2Vec|$$|$$|
|^|for image(max)|e5|$-0.1425$|$-0.1132$|
|^|^|bert|$-0.1786$|$-0.1349$|
|^|^|Word2Vec|$$|$$|
|^|for image(min)|e5|$-0.3819$|$-0.2742$|
|^|^|bert|$-0.3569$|$-0.2655$|
|^|^|Word2Vec|$$|$$|
||||||
|[BLIP: Bootstrapping Language-Image Pre-training for Unified Vision-Language Understanding and Generation](https://huggingface.co/Salesforce/blip-image-captioning-large)|for video|e5|$-0.3668$|$-0.2481$|
|^|^|bert|$-0.0020$|$-0.0261$|
|^|for image(mean)|e5|$-0.3722$|$-0.2307$|
|^|^|bert|$-0.0854$|$-0.0653$|
|^|for image(max)|e5|$-0.2198$|$-0.1524$|
|^|^|bert|$-0.0260$|$-0.0260$|
|^|for image(min)|e5|$-0.3347$|$-0.2176$|
|^|^|bert|$-0.0166$|$-0.0261$|

## やること

単語埋め込み()
オントロジーを再現したようなやつ（なんていうんだっけ）を試す
編集距離（多分無理）

集計を見直す
-1から1の範囲に変える
駄目だったら2値化する
相関がいい感じになったらハッピーエンド
駄目だったら追加で何人か集めて，生成したキャプションと動画の類似性を訪ねる
これが高ければキャプション生成を信頼して人を殴る
駄目なら笑う

## 書くこと

キャプション生成モデルの信頼性の評価をする
一般的な画像に対してのものは論文を参照
アニメーションに関する言及があればよし
なければ作ったキャプションを評価して信頼できるか調べるべきだった（後悔）
問題設定について書く
画像に対する人間のつけたキャプションがどれだけ，なぜ散らばっているか述べる

CLIP_Scoreにキャプションと動画を入れてみる
駄目だったらアニメーションに弱いみたいな結論が付けられる

CLIPの悪口

仮説①：一般的な動画に特化しているため，似たようなスタイルの評価ができない
仮説②：高品質な生成モデルの吐くイラストについていけない
仮説③：プロンプトに画風などの指示が含まれていた場合に判別できず，不当にスコアが小さくなる可能性がある

2次元に可視化，散布図を作って，人間による評価とキャプションを埋め込み空間で比較して人間を貶す

適当に数字付けた奴の行を消す
人間毎にヒストグラムを作ってみて，外れすぎるやつをはじく（恣意的？）

|画像1|画像2|画像3|
|:-:|:--:|:--:|
|プロンプト1|プロンプト2|プロンプト3|
|キャプション1|キャプション2|キャプション3|
|スコア1|スコア2|スコア3|



$\theta$をもつ文書埋め込みモデルを$emb_\theta(\cdot)$とする．プロンプトの埋め込みを$\bm{p}$，キャプションの埋め込みを$\bm{c}$とするとき，例えばプロンプトの埋め込みは$emb_\theta(\bm{p})$で表される．このとき，生成された動画のプロンプトに対する追従度を以下のように定める．
